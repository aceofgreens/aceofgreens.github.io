---
Title: Auctions
Date: 2025-09-18 07:00:00 +0200
Tags: econ,ultra-rationalism
slug: auctions
status: draft
---


The most basic auction has an intuitive design. There is a single item to be sold and each strategic bidder $i$ has a *private* nonnegative valuation $v_i$ of that item, representing his maximum willingness-to-pay (WTP). The bidder wants to acquire the item as cheaply as possible, and his utility is quasilinear: zero if he doesn't acquire it and $v_i - p$ if he does acquire it for a price $p$. A *sealed-bid* auction proceeds as follows: i) all bidders submit their bids privately to the seller, ii) the seller decides who gets the item (if anyone), and iii) the seller decides on a selling price. For the second step, the obvious case is when the seller gives the item to the highest bidder. However, for the third steps, there are different options, with different implications.

**First price auctions**. In a first price auction the highest bidder pays their own bid for the item. From the perspective of bidder $i$, he will get the item if he bids more than the highest other bid, suppose $p_j$, but his utility would only decrease if he bids too high. Hence, his optimal bid has to be just above that of the next highest bidder, $p_i = \text{min}(v_i, p_j + \epsilon)$. This is inconvenient because it requires knowing $p_j$ which is private... Therefore bidding strategies in first price auctions tend to be very hard to reason about.

**Second price auctions**. Consider what happens if the highest bidder does not pay his own bid, but the next highest, effectively the second-highest bid. What incentives does this little change create? To get the item, bidder $i$ needs $p_i > p_j$. But he should not always try to get the item at any cost.

- The only situation in which he has negative utility is when $p_i > p_j > v_i$, i.e. he gets the item $p_i > p_j$, but pays $p_j > v_i$ more than its worth to him, ending up at a loss. From this we see that $p_i$ should never be above $v_i$. 
- Similarly, the only situation in which he loses out on positive utility is when $v_i > p_j > p_i$. He doesn't get the item, $(p_j > p_i)$, but wants it more than what the other bidder is willing to pay, $v_i > p_j$. From this we see that to avoid lost opportunities $p_i$ should never be below $v_i$. 
- Cases where $p_j > p_i$ and $p_j > v_i$ don't matter because bidder $i$ doesn't get the item and doesn't care enough to get it. His utility is zero.

As a result, we have that $p_i = v_i$, that is, the bidder should always bid exactly equal to his private valuation. If his valuation is the highest, he'll get the item, otherwise he won't, which is fair. Notice how this bidding strategy is particularly simple because it's independent of what the other players bid. In that sense, bidding $p_i = v_i$ is a dominant strategy, because it's always the best.

Second price auctions are often called ideal because they have some desirable properties:

- Truthful bidding, i.e. setting $p_i = v_i$, is a dominant strategy for every bidder and if followed, every bidder is guaranteed to be at least as well-off as before (nonnegative utility). This is called dominant-strategy incentive compatible (DSIC).
- They are welfare-maximizing: they maximize the quantity $\sum_{i=1}^n v_i x_i$ where $x_i$ is the one-hot vector of who gets the item. They allocate the scarce item to that bidder who values it most.
- They are computationally efficient, linear in the number of bits of $(v_1, ..., v_n)$.

**Mechanism design**. Beyond auctions, we can think of more general mechanisms for resource allocation. In that setting bidders are called agents and auctions are called mechanisms. A mechanism here is simply an algorithm, a protocol for how scarce resources are allocated. If the bids of all agents is given by a vector $\mathbf{b}$, we need to find an allocation rule $\mathbf{x}(\mathbf{b})$ representing how much each agent gets and a payment rule $\mathbf{p}(\mathbf{b})$ establishing how much each agent pays.

How can we design mechanisms that are DSIC, welfare maximizing and efficient to implement? Broadly, we can follow two steps. First, assuming without justification that agents act truthfully, find an efficient allocation rule $\mathbf{x}(\mathbf{b})$ that yields welfare-maximization. Then, as a second step, find a pricing rule $\mathbf{p}(\mathbf{b})$ that makes the mechanism DSIC.

**Myerson's lemma**. When it comes to the first step for selecting $\mathbf{x}(\mathbf{b})$, we're on our own. However, for the second step, we have a powerful result, called Myerson's lemma, to guide us. It works in single-parameter domains, where each bidder has one private parameter (here valuations $v_i$). The lemma says the following. If the allocation $\mathbf{x}(\cdot)$ is monotone, i.e. the allocation of agent $i$ can only increase in his bid $b_i$, so that $x_i(b_i, \mathbf{b}_{-i})$ is monotone increasing, then there is a unique pricing rule $\mathbf{p}$ such that the mechanism $(\mathbf{x}, \mathbf{p})$ is DSIC. Likewise, if $(\mathbf{x}, \mathbf{p})$ is DSIC, then $\mathbf{x}$ is monotone in each agent's bid, holding the others constant. Further, the pricing rule $\mathbf{p}$ is given by 

$$
p_i(b_i, \mathbf{b}_{-i}) = \int_0^{b_i} z \frac{d}{dz} x_i(z, \mathbf{b}_{-i})dz.
$$

Here $\mathbf{b}_{-i}$ are the bids of all other agents and $x_i(z, \mathbf{b}_{-i})$ is the allocation to agent $i$ if his bid is $z$. Intuitively, truthfulness requires that you cannot gain by misreporting. That holds if your payment depends only on the cutoff at which you “tip over” into winning, not on your actual declared bid above that cutoff. The integral formula is the general continuous way of saying: “charge the threshold”. It can be adapted to discrete settings. 

**Sponsored search auctions**. Millions of auctions occur every day in [sponsored search](https://en.wikipedia.org/wiki/Sponsored_search_auction). Potential buyers search for items, as in Google or Amazon, while sellers bid on keywords for the possibility to show their own advertisements among the top results. A higher bid by the companies guarantees an impression near the top of the search results, which can translate to clicks (CTR = click-through rate) and eventually sales. If there are $k$ ad slots, the allocation rule places the $k$ highest bidders in them, which maximizes welfare. Note that in reality these platforms charges advertisers per click,
with a pricing rule called [generalized second price](https://en.wikipedia.org/wiki/Generalized_second-price_auction) (GSP), different from the Myerson's lemma pricing. In GSP the bidder in slot $i$ pays the next bidder’s bid times the CTR of slot $i$. This is not DSIC but is much easier to implement. In contrast, the Myerson lemma's pricing rule dictates that bidder $i$ should pay the minimum bid at which they would still win their slot.

**Knapsack auctions**. Let's consider a more general type setting, called a [knapsack auction](https://en.wikipedia.org/wiki/Knapsack_auction), where we a shared resource with capacity $W$, offered by the seller and multiple bidders, each with a private valuation $v_i$ and a public size $w_i$. For example, if the seller has a transport ship that can move $W$ units, the bidders would bid so that their units are selected for transport. The possible allocations, denoted $\mathcal{X}$, are the 0-1 vectors such that $\sum_{i=1}^n w_i x_i \le W$.

Let's design an ideal Knapsack auction. Assuming that bidders are truthful we have that $b_i = v_i$. First, we find the allocation rule $\mathbf{x}(\mathbf{b})$ which is given by a Knapsack problem:

$$
\begin{aligned}
&\mathbf{x}(\mathbf{b}) = \text{argmax}_\mathbf{\mathbf{x} \in \mathcal{X}} \sum_{i=1}^n b_i x_i,\\
&\text{such that } \sum_{i=1}^n w_i x_i \le W.
\end{aligned}
$$

Now, if $i$ bids high enough, his items will eventually be included in the knapsack, so the allocation $x_i(b_i, \mathbf{b}_{-i})$ is a step function in $b_i$, zero beneath some critical bid, suppose $z^\ast$, and one, after it. From Myerson's lemma above we can see that the price to pay is exactly $z^\ast$, i.e. the minimum price that guarantees the inclusion of the $i$-th bidder's item. If we set the prices to these critical bids, then the dominant action of each player will be to bid truthfully.

**Approximations**. Very nice, but not ideal, because the welfare maximizing allocation is not easily computable. In fact, Knapsack is [NP-complete](https://en.wikipedia.org/wiki/NP-completeness#). Additionally, finding the treshold $z^\ast$ requires solving another Knapsack problem. Hence, in many cases one would need to resort to approximate, instead of exact, mechanisms for welfare maximization, which are in turn, polynomial in time. This brings mechanism design very close to the mature field of [approximation algorithms](https://en.wikipedia.org/wiki/Approximation_algorithm#), which also tries to find polynomial time algorithms that approximate the true answer as accurately as possible.

If we're using an approximation algorithm it may be the case that its allocation rule is not monotone, which would prevent DSIC. Therefore, for a given setting, one is interested in finding whether the best approximation is still monotone, or if it's not, how can it be extended for monotonicity with minimal decrease in the resulting welfare.

**Revenue maximization**. All these auction so far have been trying to maximize social welfare. Yet, a seller might be interested in maximizing revenue. Since each bidder has a private valuation of the item, the seller has to work with distributions over the possible valuations of the bidders. Thus, the question is how to design the allocation and payment rule so that the auction maximizes the expected revenue over the assumed private valuation distributions. There are ways to do this, by changing the allocation so it instead maximizes what's called virtual surplus, a quantity that depends on the valuation distributions. But this can get complicated and we'll skip it here.

**Payment constraints**. Another interesting type of auctions is that where each bidder has a payment constraint and cannot afford to spend more than his budget allows. With multiple identical items, the uniform-price auction sells all of the items at a common price that equalizes supply and demand. Alternatively, in cases where there's no money involved, but just bidder preferences, the beautiful [Top Trading Cycle](https://en.wikipedia.org/wiki/Top_trading_cycle) algorithm reallocates objects owned by agents to make agents as well off as possible and leads to a DSIC mechanism.